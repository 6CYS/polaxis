# Polaxis Documentation - 01 产品需求文档 (PRD)

## 1. 项目背景与目标
本项目名为 **Polaxis** (Polaris + Axis)，旨在为用户提供极简的 HTML 静态页面托管服务。用户只需上传 HTML 文件，即可获得独立的访问链接。项目以“北极星为轴”为理念，强调固定访问点和不漂移的坐标系统。的唯一 URL 进行访问。
目标是提供一个轻量级、低门槛的静态网站发布工具，适合个人开发者、学生或演示用途。

## 2. 核心功能 (MVP)

### 2.1 用户账户体系
- **注册/登录**: 支持密码方式注册和登录。
- **身份验证**: 使用 Supabase Auth 提供的安全认证机制。
- **会话管理**: 保持用户登录状态，未登录用户无法访问管理后台。

### 2.2 站点管理
- **创建站点**: 用户可创建多个站点项目。
  - 输入：站点名称 (Display Name)、URL Slug (唯一标识)。
  - 校验：Slug 必须全局唯一且符合 URL 规范。
- **站点列表**: 在仪表盘查看自己所有的站点。
- **删除站点**: 用户可以删除自己的站点（级联删除相关文件）。

### 2.3 文件上传
- **上传入口**: 在站点详情页提供文件上传功能。
- **文件类型**: 核心支持 `index.html`，可扩展支持 `.css`, `.js`, 图片等静态资源。
- **版本覆盖**: 重新上传同名文件将覆盖旧文件（MVP阶段不需版本控制）。

### 2.4 站点访问 (核心价值)
- **访问路径**: `https://{domain}/s/{username}/{slug}`
  - `username` 为用户标识（或使用 userId/project-id，视隐私需求定）。
  - `slug` 为站点标识。
- **访问机制**:
  - 用户访问 URL -> Next.js 中间层 -> 验证站点存在性 -> 从对象存储读取 HTML 内容 -> 返回给浏览器渲染。
  - **不**直接暴露对象存储的公共链接，以确保流量可控和权限可管。

## 3. 用户流程 (User Flow)

1. **访客** 打开首页 -> 点击“并在/登录”。
2. **用户** 进入仪表盘 (Dashboard) -> 点击“新建站点”。
3. **用户** 输入 `My Awesome Site` 和 `demo-01` -> 确认创建。
4. **用户** 进入 `demo-01` 管理页 -> 上传本地写好的 `index.html`。
5. **平台** 提示“上传成功”并显示访问链接。
6. **用户** 点击链接 -> **浏览器** 新标签页打开渲染好的网页。

## 4. 非功能性需求
- **安全性**:
  - 用户只能管理（上传/删除）属于自己的站点文件。
  - 访问端应设置适当的 Content-Type 标头以正确渲染 HTML。
- **性能**:
  - 站点访问响应需迅速 (依赖 Vercel Edge/Serverless function 性能)。
- **易用性**:
  - 界面简洁现代化 (基于 shadcn/ui)。
